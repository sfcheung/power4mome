<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Quick Function: Serial Mediation with Observed Variables • power4mome</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Hind-0.4.10/font.css" rel="stylesheet">
<link href="../deps/Oxygen_Mono-0.4.10/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Quick Function: Serial Mediation with Observed Variables">
<meta name="google-site-verification" content="0VLBmFnW_UJFI-7gXnORPBsWxqZwmzuGpK-TeVRLBjQ">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">power4mome</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1.32</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/power4mome.html">Get started</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Scenarios</h6></li>
    <li><a class="dropdown-item" href="../articles/power4test_latent_mediation.html">Power Analysis for Latent Variable Mediation</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Given Power, Find x</h6></li>
    <li><a class="dropdown-item" href="../articles/x_from_power_for_n.html">Sample Size Given Desired Power</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Common Mediation Models</h6></li>
    <li><a class="dropdown-item" href="../articles/template_q_med_obs_simple.html">Quick Function: Simple Mediation with Observed Variables</a></li>
    <li><a class="dropdown-item" href="../articles/template_q_med_obs_serial.html">Quick Function: Serial Mediation with Observed Variables</a></li>
    <li><a class="dropdown-item" href="../articles/template_q_med_obs_parallel.html">Quick Function: Parallel Mediation with Observed Variables</a></li>
    <li><a class="dropdown-item" href="../articles/template_q_med_lav_simple.html">Quick Function: Simple Mediation with Latent Variables</a></li>
    <li><a class="dropdown-item" href="../articles/template_q_med_lav_serial.html">Quick Function: Serial Mediation with Latent Variables</a></li>
    <li><a class="dropdown-item" href="../articles/template_q_med_lav_parallel.html">Quick Function: Parallel Mediation with Latent Variables</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Templates (Code Examples)</h6></li>
    <li><a class="dropdown-item" href="../articles/template_n_from_power_mediation_obs_simple.html">Quick Template: Simple Mediation with Observed Variables</a></li>
    <li><a class="dropdown-item" href="../articles/template_n_from_power_mediation_obs_serial.html">Quick Template: Serial Mediation with Observed Variables</a></li>
    <li><a class="dropdown-item" href="../articles/template_n_from_power_mediation_obs_parallel.html">Quick Template: Parallel Mediation with Observed Variables</a></li>
    <li><a class="dropdown-item" href="../articles/template_n_from_power_mediation_lav_simple.html">Quick Template: Simple Mediation with Latent Variables</a></li>
    <li><a class="dropdown-item" href="../articles/template_n_from_power_mediation_lav_serial.html">Quick Template: Serial Mediation with Latent Variables</a></li>
    <li><a class="dropdown-item" href="../articles/template_n_from_power_mediation_lav_parallel.html">Quick Template: Parallel Mediation with Latent Variables</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Moderation Templates (Code Examples)</h6></li>
    <li><a class="dropdown-item" href="../articles/template_n_from_power_moderation_obs_simple.html">Quick Template: Simple Moderation with Observed Variables</a></li>
    <li><a class="dropdown-item" href="../articles/template_n_from_power_moderation_obs_two_ws.html">Quick Template: Moderation with Observed Variables: Two Moderators</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Moderated Mediation Templates (Code Examples)</h6></li>
    <li><a class="dropdown-item" href="../articles/template_n_from_power_mome_obs_a.html">Quick Template: Simple Moderated Mediation with Observed Variables: a-Path Moderated</a></li>
    <li><a class="dropdown-item" href="../articles/template_n_from_power_mome_obs_b.html">Quick Template: Simple Moderated Mediation with Observed Variables: b-Path Moderated</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sfcheung/power4mome/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Quick Function: Serial Mediation with Observed Variables</h1>
            
            <h4 data-toc-skip class="date">2025-12-15</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/sfcheung/power4mome/blob/main/vignettes/articles/template_q_med_obs_serial.Rmd" class="external-link"><code>vignettes/articles/template_q_med_obs_serial.Rmd</code></a></small>
      <div class="d-none name"><code>template_q_med_obs_serial.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This and other “Quick Function” articles are examples of R code to
determine the range of sample sizes for a target level of power or
estimate the power for a specific scenario in typical mediation models
using <a href="https://sfcheung.github.io/power4mome/"><code>power4mome</code></a>.
Users can quickly adapt them for their scenarios. They are how-to guides
and will not cover the technical details involved.</p>
</div>
<div class="section level2">
<h2 id="prerequisite">Prerequisite<a class="anchor" aria-label="anchor" href="#prerequisite"></a>
</h2>
<p>These functions are wrappers to <code><a href="../reference/power4test.html">power4test()</a></code> and
<code><a href="../reference/x_from_power.html">n_region_from_power()</a></code>. For simple scenarios, users do not
need to know how to use these advanced functions, though knowledge about
them can help customizing the search for the region. Further information
on these functions can be found in <a href="#final_remarks">Final
Remarks</a></p>
</div>
<div class="section level2">
<h2 id="scope">Scope<a class="anchor" aria-label="anchor" href="#scope"></a>
</h2>
<p>This file is for serial mediation models, and only use one function
<code><a href="../reference/q_power_mediation.html">q_power_mediation_serial()</a></code> from the package <a href="https://sfcheung.github.io/power4mome/">power4mome</a>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://sfcheung.github.io/power4mome/">power4mome</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="the-model">The Model<a class="anchor" aria-label="anchor" href="#the-model"></a>
</h2>
<p>Suppose this is the model:</p>
<div class="figure" style="text-align: center">
<img src="template_q_med_obs_serial_model-1.png" alt="The Model"><p class="caption">
The Model
</p>
</div>
<p>We want to do power analysis for the indirect effect along the path
<code>x-&gt;m1-&gt;m2-&gt;y</code>. Suppose these are the expected
effects:</p>
<ul>
<li><p><code>x-&gt;m1</code>: medium</p></li>
<li><p><code>m1-&gt;m2</code>: medium</p></li>
<li><p><code>m2-&gt;y</code>: large</p></li>
<li><p><code>x-&gt;y</code>: small</p></li>
</ul>
<p>The other paths involving the mediators, <code>x-&gt;m2</code> and
<code>m1-&gt;y</code>, are assumed to have no effect
(<code>nil</code>).</p>
<div class="section level3">
<h3 id="convention">Convention for the Effect Sizes<a class="anchor" aria-label="anchor" href="#convention"></a>
</h3>
<p>To make it easy to specify the standardized population values of
parameters, <a href="https://sfcheung.github.io/power4mome/"><code>power4mome</code></a>
adopted the convention for Pearson’s <em>r</em>, just for
convenience.</p>
<ul>
<li><p><code>"nil"</code>: Nil (.00).</p></li>
<li><p><code>"s"</code>: Small (.10).</p></li>
<li><p><code>"m"</code>: Medium (.30),</p></li>
<li><p><code>"l"</code>: Large (.50).</p></li>
</ul>
<p>There are also two intermediate levels:</p>
<ul>
<li><p><code>"sm"</code>: Small-to-medium (.20).</p></li>
<li><p><code>"ml"</code>: Medium-to-large (.40).</p></li>
</ul>
<p>If the effect is negative, just add a minus sign. For example, use
<code>"-m"</code> to denote a negative medium effect.</p>
<p>For a path from one variable to another variable, the standardized
coefficient is equal to the correlation if there are not other
predictor, or if this predictor is uncorrelated with all other
predictors. Therefore, though may not be perfect, we believe the
convention of Pearson’s <em>r</em> is a reasonable one.</p>
<p>If necessary, users can specify the effect (on the standardized
metric) directly.</p>
</div>
<div class="section level3">
<h3 id="covariates-in-the-model-to-be-fitted">Covariates in the Model to be Fitted<a class="anchor" aria-label="anchor" href="#covariates-in-the-model-to-be-fitted"></a>
</h3>
<p>In applied research, the model to be fitted usually have other
control variables, such as educational level. It may not be practical to
specify all the probable effects of these control variables (though it
is possible in <a href="https://sfcheung.github.io/power4mome/"><code>power4mome</code></a>).</p>
<p>Therefore, as a conservative assessment of power, users can first
decide the population effects, and then adjust them slightly downward
(e.g., from medium, <code>"m"</code>, to small-to-medium,
<code>"sm"</code>) to take into account potential decrease in effects
due to control variables to be included.</p>
</div>
<div class="section level3">
<h3 id="model-with-hypothesized-path-coefficients">Model with Hypothesized Path Coefficients<a class="anchor" aria-label="anchor" href="#model-with-hypothesized-path-coefficients"></a>
</h3>
<p>This is the model with the effect sizes:</p>
<div class="figure" style="text-align: center">
<img src="template_q_med_obs_serial_model_es-1.png" alt="The Model"><p class="caption">
The Model
</p>
</div>
</div>
<div class="section level3">
<h3 id="test-to-be-used">Test to be Used<a class="anchor" aria-label="anchor" href="#test-to-be-used"></a>
</h3>
<p>In practice, nonparametric bootstrapping is usually used to test
indirect effects. However, estimating its power using simulation is
slow. A good-enough proxy is to estimate the power when testing this
effect by Monte Carlo confidence interval. This is the default method in
<a href="https://sfcheung.github.io/power4mome/"><code>power4mome</code></a>
for tests of indirect effects.</p>
</div>
</div>
<div class="section level2">
<h2 id="find-the-power">Find the Power<a class="anchor" aria-label="anchor" href="#find-the-power"></a>
</h2>
<p>To estimate the power for a sample size, this is the code:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_power</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/q_power_mediation.html">q_power_mediation_serial</a></span><span class="op">(</span></span>
<span>  ab <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"m"</span>, <span class="st">"m"</span>, <span class="st">"l"</span><span class="op">)</span>,</span>
<span>  ab_other <span class="op">=</span> <span class="st">"nil"</span>,</span>
<span>  cp <span class="op">=</span> <span class="st">"s"</span>,</span>
<span>  target_power <span class="op">=</span> <span class="fl">.80</span>,</span>
<span>  nrep <span class="op">=</span> <span class="fl">400</span>,</span>
<span>  n <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  R <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">1234</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>These are the arguments:</p>
<ul>
<li><p><code>ab</code>: The hypothesized standardized effects along the
path from the predictor <code>x</code> to the outcome variable
<code>y</code>. This should be a character vector with elements equal to
the number of mediators for the path coefficients
<code>x-&gt;m1-&gt;m2-&gt;...-&gt;y</code>. Can be one of the labels
supported by the <a href="#convention">convention</a>, or a numeric
value.</p></li>
<li><p><code>ab_other</code>: The hypothesized standardized effect for
all other paths involving the mediators. For simplicity, it only support
one value, and this value will be used for all these paths. Can be one
of the labels supported by the <a href="#convention">convention</a>, or
a numeric value.</p></li>
<li><p><code>cp</code>: The hypothesized standardized direct effect from
the predictor <code>x</code> to the outcome variable <code>y</code>. Can
be one of the labels supported by the <a href="#convention">convention</a>, or a numeric value.</p></li>
<li><p><code>target_power</code>: The target level of power. Default is
.80, and can be omitted if this is the desired level of power</p></li>
<li><p><code>nrep</code>: The number of replications when estimating the
power for a sample size. Default is 400. Can be omitted if this is the
desired number of replications.</p></li>
<li><p><code>R</code>: The number of random samples used in forming
Monte Carlo or nonparametric bootstrapping confidence intervals.
Although they should be large when testing an effect in one single
sample, they can be smaller because the goal is to estimate power across
replications, not to achieve high accuracy in each sample. Default is
1000. Can be omitted if the default is acceptable.</p></li>
<li><p><code>seed</code>: The seed for the random number generator. Note
that, if parallel processing is used (this is the default), then the
results are reproducible <em>only</em> if the configuration is exactly
identical. Moreover, changes in the algorithm will also make results not
reproducible even with the same seed. Nevertheless, it is still advised
to set this seed to an integer, to make the results reproducible at
least on the same machine.</p></li>
</ul>
<p>This is the output:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_power</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ========== power4test Results ==========</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ====================== Model Information ======================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; == Model on Factors/Variables ==</span></span>
<span><span class="co">#&gt; m1 ~ x</span></span>
<span><span class="co">#&gt; m2 ~ m1 + x</span></span>
<span><span class="co">#&gt; y ~ m1 + m2 + x</span></span>
<span><span class="co">#&gt; == Model on Variables/Indicators ==</span></span>
<span><span class="co">#&gt; m1 ~ x</span></span>
<span><span class="co">#&gt; m2 ~ m1 + x</span></span>
<span><span class="co">#&gt; y ~ m1 + m2 + x</span></span>
<span><span class="co">#&gt; ====== Population Values ======</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Regressions:</span></span>
<span><span class="co">#&gt;                    Population</span></span>
<span><span class="co">#&gt;   m1 ~                       </span></span>
<span><span class="co">#&gt;     x                 0.300  </span></span>
<span><span class="co">#&gt;   m2 ~                       </span></span>
<span><span class="co">#&gt;     m1                0.300  </span></span>
<span><span class="co">#&gt;     x                 0.000  </span></span>
<span><span class="co">#&gt;   y ~                        </span></span>
<span><span class="co">#&gt;     m1                0.000  </span></span>
<span><span class="co">#&gt;     m2                0.500  </span></span>
<span><span class="co">#&gt;     x                 0.100  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Variances:</span></span>
<span><span class="co">#&gt;                    Population</span></span>
<span><span class="co">#&gt;    .m1                0.910  </span></span>
<span><span class="co">#&gt;    .m2                0.910  </span></span>
<span><span class="co">#&gt;    .y                 0.731  </span></span>
<span><span class="co">#&gt;     x                 1.000  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; (Computing indirect effects for 4 paths ...)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; == Population Conditional/Indirect Effect(s) ==</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; == Indirect Effect(s) ==</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                      ind</span></span>
<span><span class="co">#&gt; x -&gt; m1 -&gt; m2 -&gt; y 0.045</span></span>
<span><span class="co">#&gt; x -&gt; m1 -&gt; y       0.000</span></span>
<span><span class="co">#&gt; x -&gt; m2 -&gt; y       0.000</span></span>
<span><span class="co">#&gt; x -&gt; y             0.100</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  - The 'ind' column shows the indirect effect(s).</span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt; ======================= Data Information =======================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Number of Replications:  400 </span></span>
<span><span class="co">#&gt; Sample Sizes:  100 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call print with 'data_long = TRUE' for further information.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ==================== Extra Element(s) Found ====================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; - fit</span></span>
<span><span class="co">#&gt; - mc_out</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; === Element(s) of the First Dataset ===</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ============ &lt;fit&gt; ============</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; lavaan 0.6-21.2434 ended normally after 1 iteration</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   Estimator                                         ML</span></span>
<span><span class="co">#&gt;   Optimization method                           NLMINB</span></span>
<span><span class="co">#&gt;   Number of model parameters                         9</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   Number of observations                           100</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Model Test User Model:</span></span>
<span><span class="co">#&gt;                                                       </span></span>
<span><span class="co">#&gt;   Test statistic                                 0.000</span></span>
<span><span class="co">#&gt;   Degrees of freedom                                 0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =========== &lt;mc_out&gt; ===========</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; == A 'mc_out' class object ==</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Number of Monte Carlo replications: 1000 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ====================== Test(s) Conducted ======================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; - test_indirect: x-&gt;m1-&gt;m2-&gt;y</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call print() and set 'test_long = TRUE' for a detailed report.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ========== power4test Power ==========</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [test]: test_indirect: x-&gt;m1-&gt;m2-&gt;y </span></span>
<span><span class="co">#&gt; [test_label]: Test </span></span>
<span><span class="co">#&gt;     est   p.v reject r.cilo r.cihi</span></span>
<span><span class="co">#&gt; 1 0.046 1.000  0.710  0.664  0.752</span></span>
<span><span class="co">#&gt; Notes:</span></span>
<span><span class="co">#&gt; - p.v: The proportion of valid replications.</span></span>
<span><span class="co">#&gt; - est: The mean of the estimates in a test across replications.</span></span>
<span><span class="co">#&gt; - reject: The proportion of 'significant' replications, that is, the</span></span>
<span><span class="co">#&gt;   rejection rate. If the null hypothesis is true, this is the Type I</span></span>
<span><span class="co">#&gt;   error rate. If the null hypothesis is false, this is the power.</span></span>
<span><span class="co">#&gt; - r.cilo,r.cihi: The confidence interval of the rejection rate, based</span></span>
<span><span class="co">#&gt;   on Wilson's (1927) method.</span></span>
<span><span class="co">#&gt; - Refer to the tests for the meanings of other columns.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ========== n_region_from_power Results ==========</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; 'mode' is not 'region' and results not available.</span></span></code></pre></div>
<p>The first set of output is the default printout of the output of
<code><a href="../reference/power4test.html">power4test()</a></code>. This can be used to check the model
specified. It also automatically computes the population standardized
indirect effect(s).</p>
<p>The second section is the output of <code><a href="../reference/rejection_rates.html">rejection_rates()</a></code>,
showing the power under the column <code>reject</code>.</p>
<p>In this example, the power is about 0.71 for sample size 100.</p>
</div>
<div class="section level2">
<h2 id="find-the-region-of-sample-sizes">Find the Region of Sample Sizes<a class="anchor" aria-label="anchor" href="#find-the-region-of-sample-sizes"></a>
</h2>
<p>In addition to estimate the power for a sample size, the function can
also be used to find an approximate region of sample sizes with levels
of power <em>not</em> significantly different from the target power.
This region is useful for determining a range of sample sizes likely to
have sufficient power, but are not greater than necessary when resources
are limited.</p>
<p>Note that this process can be slow. Nevertheless, power analysis is
usually conducted in the planning stage of a study, and so the slow
processing time is acceptable in this stage.</p>
<p>Finding the region can be done using the same code above, with the
argument <code>mode = "region"</code> added:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_region</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/q_power_mediation.html">q_power_mediation_serial</a></span><span class="op">(</span></span>
<span>  ab <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"m"</span>, <span class="st">"m"</span>, <span class="st">"l"</span><span class="op">)</span>,</span>
<span>  ab_other <span class="op">=</span> <span class="st">"nil"</span>,</span>
<span>  cp <span class="op">=</span> <span class="st">"s"</span>,</span>
<span>  target_power <span class="op">=</span> <span class="fl">.80</span>,</span>
<span>  nrep <span class="op">=</span> <span class="fl">400</span>,</span>
<span>  n <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  R <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">1234</span>,</span>
<span>  mode <span class="op">=</span> <span class="st">"region"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>This is the printout, showing only the section from the output of
<code><a href="../reference/x_from_power.html">n_region_from_power()</a></code>:</p>
<pre><code><span><span class="co">#&gt; ========== n_region_from_power Results ==========</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; n_region_from_power(object = `&lt;hidden&gt;`, target_power = 0.8, </span></span>
<span><span class="co">#&gt;     progress = TRUE, simulation_progress = TRUE, max_trials = 10, </span></span>
<span><span class="co">#&gt;     seed = 1234)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                      Setting                                      </span></span>
<span><span class="co">#&gt; Predictor(x)         Sample Size                                  </span></span>
<span><span class="co">#&gt; Goal:                Power significantly below or above the target</span></span>
<span><span class="co">#&gt; algorithm:           bisection                                    </span></span>
<span><span class="co">#&gt; Level of confidence: 95.00%                                       </span></span>
<span><span class="co">#&gt; Target Power:        0.800                                        </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Solution: </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Approximate region of sample sizes with power:</span></span>
<span><span class="co">#&gt; - not significantly different from 0.800: 113 to 126</span></span>
<span><span class="co">#&gt; - significantly lower than 0.800: 113</span></span>
<span><span class="co">#&gt; - significantly higher than 0.800: 126</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Confidence intervals of the estimated power:</span></span>
<span><span class="co">#&gt; - for the lower bound (113): [0.718, 0.802]</span></span>
<span><span class="co">#&gt; - for the upper bound (126): [0.812, 0.882]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call `summary()` for detailed results.</span></span></code></pre>
<p>In this example, the range of the sample size is 113 to 126.</p>
<p>The results can also be visualized using the <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code>
function:</p>
<div class="figure" style="text-align: center">
<img src="template_q_med_obs_serial_model_region-1.png" alt="The Plot of Sample Sizes Searched"><p class="caption">
The Plot of Sample Sizes Searched
</p>
</div>
<p>The region between the shaded areas is the approximate region of
sample sizes found.</p>
</div>
<div class="section level2">
<h2 id="final_remarks">Final Remarks<a class="anchor" aria-label="anchor" href="#final_remarks"></a>
</h2>
<div class="section level3">
<h3 id="other-models">Other Models<a class="anchor" aria-label="anchor" href="#other-models"></a>
</h3>
<p>Quick how-to articles on other common mediation models, including
those with latent variables, can be found from the <a href="index.html">list of articles</a></p>
<p>The package <a href="https://sfcheung.github.io/power4mome/"><code>power4mome</code></a>
supports an arbitrary model specified by <code>lavaan</code> syntax,
including those with moderators. Interested users can refer to the
articles above.</p>
</div>
<div class="section level3">
<h3 id="technical-details">Technical Details<a class="anchor" aria-label="anchor" href="#technical-details"></a>
</h3>
<p>For options of <code><a href="../reference/power4test.html">power4test()</a></code> and
<code><a href="../reference/x_from_power.html">n_region_from_power()</a></code>, please refer to their help pages, as
well as the <a href="https://sfcheung.github.io/power4mome/articles/power4mome.html">Get-Started
article</a> and this <a href="https://sfcheung.github.io/power4mome/articles/x_from_power_for_n.html">article</a>
for <code><a href="../reference/x_from_power.html">n_from_power()</a></code>, which is the function to find one of
the regions, called twice by <code><a href="../reference/x_from_power.html">n_region_from_power()</a></code>.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Shu Fai Cheung, Sing-Hang Cheung, Wendie Yang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
