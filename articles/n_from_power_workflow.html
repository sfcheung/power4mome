<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Workflow of 'n_from_power()' â€¢ power4mome</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Hind-0.4.10/font.css" rel="stylesheet">
<link href="../deps/Oxygen_Mono-0.4.10/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Workflow of 'n_from_power()'">
<meta name="google-site-verification" content="0VLBmFnW_UJFI-7gXnORPBsWxqZwmzuGpK-TeVRLBjQ">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">power4mome</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1.35</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/power4mome.html">Get started</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/main_workflow.html">Main Workflows</a></li>
    <li><a class="dropdown-item" href="../articles/n_from_power_workflow.html">Workflow of 'n_from_power()'</a></li>
    <li><a class="dropdown-item" href="../articles/x_from_power_for_es.html">Effect Size Given Desired Power</a></li>
    <li><a class="dropdown-item" href="../articles/x_from_power_for_n.html">Sample Size Given Desired Power</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<script src="n_from_power_workflow_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><script src="n_from_power_workflow_files/d3-3.3.8/d3.min.js"></script><script src="n_from_power_workflow_files/dagre-0.4.0/dagre-d3.min.js"></script><link href="n_from_power_workflow_files/mermaid-0.3.0/dist/mermaid.css" rel="stylesheet">
<script src="n_from_power_workflow_files/mermaid-0.3.0/dist/mermaid.slim.min.js"></script><link href="n_from_power_workflow_files/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
<script src="n_from_power_workflow_files/chromatography-0.1/chromatography.js"></script><script src="n_from_power_workflow_files/DiagrammeR-binding-1.0.11/DiagrammeR.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Workflow of 'n_from_power()'</h1>
                        <h4 data-toc-skip class="author">Shu Fai Cheung
&amp; Sing-Hang Cheung</h4>
            
      

      <div class="d-none name"><code>n_from_power_workflow.Rmd</code></div>
    </div>

    
    
<p>(<strong>DRAFT: WORK-IN-PROGRESS</strong>)</p>
<div class="section level2">
<h2 id="goal">Goal<a class="anchor" aria-label="anchor" href="#goal"></a>
</h2>
<p>This technical appendix describes the workflow of
<code>n_from_power()</code> in <a href="https://sfcheung.github.io/power4mome/">power4mome</a>.</p>
</div>
<div class="section level2">
<h2 id="n_from_power">
<code>n_from_power()</code><a class="anchor" aria-label="anchor" href="#n_from_power"></a>
</h2>
<p>The workflow of <code>n_from_power()</code>.</p>
<div class="figure">
<div id="htmlwidget-ac96cb3ee4656e2e9ec3" style="width:700px;height:4500px;" class="DiagrammeR html-widget"></div>
<script type="application/json" data-for="htmlwidget-ac96cb3ee4656e2e9ec3">{"x":{"diagram":"\nflowchart TD\n  %% classDef default fill:#EEEEFF;\n  %% classDef errornode fill:#FFDDDD;\n  %% classDef startend fill:#DDFFDD;\n\n  ZA([\"Find the Sample Size (n)\"])\n  AA(\"Find the initial ns given the initial results\")\n  AB(\"Call power4test_by_n for the ns\")\n  AC(\"Merge the results --> by_n_1\")\n  AD(\"Fit a power curve -> fit_i\")\n  %% ADA(\"Update fit_1\")\n  %% ADB(\"Update by_n_1\")\n  AE(\"Set the sequence of nreps, Rs, and ns per trial\")\n  %% AF(\"Set the sequence of Rs\")\n  %% AG(\"Set the sequence of # of ns per trial\")\n\n  BA(\"Start a trial\")\n\n  BB{{\"CI conttains target power\"}}\n\n  BBA(\"Update the interval of power levels to search\")\n\n  BC(\"Find ns to try --> n_j\")\n  BD(\"Adjust nrep based on power levels of ns --> nrep_j\")\n  BE(\"Call power4test_by_n for the ns --> by_n_j\")\n  BF(\"Merge the results --> by_n_1\")\n  BG(\"Fit a power curve --> fit_1\")\n\n  BH{{\"Is target power inside the range of estimated power levels?\"}}\n\n  BHA(\"Find the n with power closest to the target power\")\n  BHAA(\"Update n_out, power_out, nrep_out, ci_out, and by_n_out\")\n\n  BHB(\"Estimate n by the power curve\")\n  BHBA(\"Call power4test_by_n for this n\")\n  BHBB(\"Update n_out, power_out, nrep_out, ci_out, and by_n_out\")\n  BHBC(\"Merge the results --> by_n_1\")\n  BHBD(\"Update the power curve --> fit_1\")\n\n  BI{{\"Any CIs include the target power?\"}}\n\n  BIA(\"Set ci_hit to TRUE\")\n  BIB(\"Find the n (a) with CI include the target power and (b) smalles SE\")\n  BIC(\"Update n_out, power_out, nrep_out, ci_out, and by_n_out\")\n\n  BIZ(\"Set ci_hit to FALSE\")\n\n  BJ{{\"ci_hit?\"}}\n\n  BJA{{\"nrep_out == final_nrep?\"}}\n\n  BJAA{{\"More than one nrep left?\"}}\n\n  BJAAA(\"Next nrep, R, and ns_per_trial\")\n\n  BJZ(\"Maximum # of trials reached?\")\n\n  BK{{\"(ci_hit) and (nrep_out == final_nrep)?\"}}\n\n  BKA(\"Set n_final, by_n_final, power_final, ci_final, nrep_final, i_final\")\n\n  BKB(\"Set to NA: n_final, by_n_final, power_final, ci_final, nrep_final, i_final\")\n\n  BL(\"Estimate n_x by the power curve (fit_1)\")\n\n  BM(\"Prepare the output\")\n\n\n  ZZ([\"Return the output\"])\n\n  ZA --> AA\n  AA --> AB\n  AB --> AC\n  AC --> AD\n  AD --> AE\n\n  AE --> BA\n\n  subgraph Trial Loop\n\n  BA --> BB\n  BB -- Yes --> BBA --> BC\n  BB -- No --> BC\n  BC --> BD\n  BD --> BE\n  BE --> BF\n  BF --> BG\n  BG --> BH\n  BH -- Yes --> BHA\n  BHA --> BHAA\n  BH -- No --> BHB\n  BHB --> BHBA\n  BHBA --> BHBB\n  BHBB --> BHBC\n  BHBC --> BHBD\n\n  BHBD --> BI\n  BHAA --> BI\n\n  BI -- Yes --> BIA\n  BIA --> BIB\n  BIB --> BIC\n  BIC --> BJ\n\n  BI -- No --> BIZ\n  BIZ --> BJ\n\n  BJ -- No --> BJZ\n\n  BJ -- Yes --> BJA\n  BJA -- No --> BJAA\n  BJAA -- Yes --> BJAAA\n  BJAA -- No --> BJZ\n  BJAAA --> BJZ\n  BJZ -- No --> BA\n  BJAA -- No --> BA\n\nend\n\n  BJZ -- Yes --> BK\n  BJA -- Yes --> BK\n\n\n  BK -- Yes --> BKA\n  BK -- No --> BKB\n\n  BKA --> BL\n  BKB --> BL\n\n  BL --> BM\n\n  BM --> ZZ\n"},"evals":[],"jsHooks":[]}</script><p class="caption">
From Power to Sample Size
</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Shu Fai Cheung, Sing-Hang Cheung, Wendie Yang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
