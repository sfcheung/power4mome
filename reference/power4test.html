<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Estimate the Power of a Test — power4test • power4mome</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Hind-0.4.10/font.css" rel="stylesheet"><link href="../deps/Oxygen_Mono-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Estimate the Power of a Test — power4test"><meta name="description" content="An all-in-one function
that receives a model specification,
generates datasets, fits a model, does
the target test, and returns the test
results."><meta property="og:description" content="An all-in-one function
that receives a model specification,
generates datasets, fits a model, does
the target test, and returns the test
results."><meta property="og:image" content="https://sfcheung.github.io/power4mome/logo.png"><meta name="google-site-verification" content="0VLBmFnW_UJFI-7gXnORPBsWxqZwmzuGpK-TeVRLBjQ"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">power4mome</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1.44</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/power4mome.html">Get started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Scenarios</h6></li>
    <li><a class="dropdown-item" href="../articles/power4test_latent_mediation.html">Power Analysis for Latent Variable Mediation</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Given Power, Find x</h6></li>
    <li><a class="dropdown-item" href="../articles/x_from_power_for_n.html">Sample Size Given Desired Power</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Common Mediation Models</h6></li>
    <li><a class="dropdown-item" href="../articles/template_q_med_obs_simple.html">Quick Function: Simple Mediation with Observed Variables</a></li>
    <li><a class="dropdown-item" href="../articles/template_q_med_obs_serial.html">Quick Function: Serial Mediation with Observed Variables</a></li>
    <li><a class="dropdown-item" href="../articles/template_q_med_obs_parallel.html">Quick Function: Parallel Mediation with Observed Variables</a></li>
    <li><a class="dropdown-item" href="../articles/template_q_med_lav_simple.html">Quick Function: Simple Mediation with Latent Variables</a></li>
    <li><a class="dropdown-item" href="../articles/template_q_med_lav_serial.html">Quick Function: Serial Mediation with Latent Variables</a></li>
    <li><a class="dropdown-item" href="../articles/template_q_med_lav_parallel.html">Quick Function: Parallel Mediation with Latent Variables</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Templates (Code Examples)</h6></li>
    <li><a class="dropdown-item" href="../articles/template_n_from_power_mediation_obs_simple.html">Quick Template: Simple Mediation with Observed Variables</a></li>
    <li><a class="dropdown-item" href="../articles/template_n_from_power_mediation_obs_serial.html">Quick Template: Serial Mediation with Observed Variables</a></li>
    <li><a class="dropdown-item" href="../articles/template_n_from_power_mediation_obs_parallel.html">Quick Template: Parallel Mediation with Observed Variables</a></li>
    <li><a class="dropdown-item" href="../articles/template_n_from_power_mediation_lav_simple.html">Quick Template: Simple Mediation with Latent Variables</a></li>
    <li><a class="dropdown-item" href="../articles/template_n_from_power_mediation_lav_serial.html">Quick Template: Serial Mediation with Latent Variables</a></li>
    <li><a class="dropdown-item" href="../articles/template_n_from_power_mediation_lav_parallel.html">Quick Template: Parallel Mediation with Latent Variables</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Moderation Templates (Code Examples)</h6></li>
    <li><a class="dropdown-item" href="../articles/template_n_from_power_moderation_obs_simple.html">Quick Template: Simple Moderation with Observed Variables</a></li>
    <li><a class="dropdown-item" href="../articles/template_n_from_power_moderation_obs_two_ws.html">Quick Template: Moderation with Observed Variables: Two Moderators</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Moderated Mediation Templates (Code Examples)</h6></li>
    <li><a class="dropdown-item" href="../articles/template_n_from_power_mome_obs_a.html">Quick Template: Simple Moderated Mediation with Observed Variables: a-Path Moderated</a></li>
    <li><a class="dropdown-item" href="../articles/template_n_from_power_mome_obs_b.html">Quick Template: Simple Moderated Mediation with Observed Variables: b-Path Moderated</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sfcheung/power4mome/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Estimate the Power of a Test</h1>
      <small class="dont-index">Source: <a href="https://github.com/sfcheung/power4mome/blob/main/R/power4test.R" class="external-link"><code>R/power4test.R</code></a></small>
      <div class="d-none name"><code>power4test.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>An all-in-one function
that receives a model specification,
generates datasets, fits a model, does
the target test, and returns the test
results.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">power4test</span><span class="op">(</span></span>
<span>  object <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  nrep <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ptable <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  model <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  pop_es <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  standardized <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  n <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  number_of_indicators <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  reliability <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  x_fun <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  e_fun <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  process_data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  fit_model_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  R <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ci_type <span class="op">=</span> <span class="st">"mc"</span>,</span>
<span>  gen_mc_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  gen_boot_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  test_fun <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  test_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  map_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>fit <span class="op">=</span> <span class="st">"fit"</span><span class="op">)</span>,</span>
<span>  results_fun <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  results_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  test_name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  test_note <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  do_the_test <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  sim_all <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  iseed <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  parallel <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  progress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  ncores <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fu">parallel</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/parallel/detectCores.html" class="external-link">detectCores</a></span><span class="op">(</span>logical <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>  es1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">0</span>, nil <span class="op">=</span> <span class="fl">0</span>, s <span class="op">=</span> <span class="fl">0.1</span>, m <span class="op">=</span> <span class="fl">0.3</span>, l <span class="op">=</span> <span class="fl">0.5</span>, si <span class="op">=</span> <span class="fl">0.141</span>, mi <span class="op">=</span> <span class="fl">0.361</span>, li <span class="op">=</span> <span class="fl">0.51</span>,</span>
<span>    sm <span class="op">=</span> <span class="fl">0.2</span>, ml <span class="op">=</span> <span class="fl">0.4</span><span class="op">)</span>,</span>
<span>  es2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">0</span>, nil <span class="op">=</span> <span class="fl">0</span>, s <span class="op">=</span> <span class="fl">0.05</span>, m <span class="op">=</span> <span class="fl">0.1</span>, l <span class="op">=</span> <span class="fl">0.15</span>, sm <span class="op">=</span> <span class="fl">0.075</span>, ml <span class="op">=</span> <span class="fl">0.125</span><span class="op">)</span>,</span>
<span>  es_ind <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"si"</span>, <span class="st">"mi"</span>, <span class="st">"li"</span><span class="op">)</span>,</span>
<span>  n_std <span class="op">=</span> <span class="fl">1e+05</span>,</span>
<span>  std_force_monte_carlo <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  rejection_rates_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>collapse <span class="op">=</span> <span class="st">"none"</span>, at_least_k <span class="op">=</span> <span class="fl">1</span>, merge_all_tests <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    p_adjust_method <span class="op">=</span> <span class="st">"none"</span>, alpha <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span>,</span>
<span>  n_ratio <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'power4test'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  what <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"test"</span><span class="op">)</span>,</span>
<span>  digits <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  digits_descriptive <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  data_long <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  test_long <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  fit_to_all_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>Optional. If set to a
<code>power4test</code> object, it will be
updated using the value(s) in <code>n</code>,
<code>pop_es</code>, and/or <code>nrep</code> if they changed,
or a new test will be conducted and
added to <code>objet</code>. See the help page
for details. Default is <code>NULL</code>.</p></dd>


<dt id="arg-nrep">nrep<a class="anchor" aria-label="anchor" href="#arg-nrep"></a></dt>
<dd><p>The number of replications
to generate the simulated datasets.
Default is <code>NULL</code>. Must be set when
called to create a <code>power4test</code>
object.</p></dd>


<dt id="arg-ptable">ptable<a class="anchor" aria-label="anchor" href="#arg-ptable"></a></dt>
<dd><p>The output of
<code><a href="ptable_pop.html">ptable_pop()</a></code>, which is a
<code>ptable_pop</code> object, representing the
population model. If <code>NULL</code>, the
default, <code><a href="ptable_pop.html">ptable_pop()</a></code> will be
called to generate the <code>ptable_pop</code>
object using <code>model</code> and <code>pop_es</code>.</p></dd>


<dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p>The <code>lavaan</code> model
syntax of the population model,
to be used by <code><a href="ptable_pop.html">ptable_pop()</a></code>.
See 'Details' of
on how to specify the model.
Ignored if <code>ptable</code> is
specified.</p></dd>


<dt id="arg-pop-es">pop_es<a class="anchor" aria-label="anchor" href="#arg-pop-es"></a></dt>
<dd><p>The character vector or
multiline string to
specify population effect sizes
(population values of parameters). See
the help page on how to specify this
argument.
Ignored if <code>ptable</code> is
specified.</p></dd>


<dt id="arg-standardized">standardized<a class="anchor" aria-label="anchor" href="#arg-standardized"></a></dt>
<dd><p>Logical. If
<code>TRUE</code>, the default, variances and
error variances are scaled to ensure
the population variances of the
endogenous variables are close to
one, and hence the effect sizes
(population values) are
standardized effect sizes if the
variances of the continuous exogenous
variables are also equal to one.</p></dd>


<dt id="arg-n">n<a class="anchor" aria-label="anchor" href="#arg-n"></a></dt>
<dd><p>The sample size for each
dataset. Default is 100.</p></dd>


<dt id="arg-number-of-indicators">number_of_indicators<a class="anchor" aria-label="anchor" href="#arg-number-of-indicators"></a></dt>
<dd><p>A named
vector to specify the number of
indicators for each factors. See
the help page on how to set this
argument. Default is <code>NULL</code> and all
variables in the model syntax are
observed variables.
See the help page on how
to use this argument.</p></dd>


<dt id="arg-reliability">reliability<a class="anchor" aria-label="anchor" href="#arg-reliability"></a></dt>
<dd><p>A named vector
(for a single-group model) or a
named list of named vectors
(for a multigroup model)
to set the reliability coefficient
of each set of indicators. Default
is <code>NULL</code>.
See the help page on how
to use this argument.</p></dd>


<dt id="arg-x-fun">x_fun<a class="anchor" aria-label="anchor" href="#arg-x-fun"></a></dt>
<dd><p>The function(s) used to
generate the exogenous variables or
error terms. If
not supplied, or set to <code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code>, the
default, the variables are generated
from a multivariate normal
distribution. See the help page on how
to use this argument.</p></dd>


<dt id="arg-e-fun">e_fun<a class="anchor" aria-label="anchor" href="#arg-e-fun"></a></dt>
<dd><p>The function(s) used to
generate the error terms of indicators,
if any. If
not supplied, or set to <code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code>, the
default, the error terms of indicators
are generated
from a multivariate normal
distribution. Specify in the same
way as <code>x_fun</code>. Refer to the help
page on <code>x_fun</code> on how to use this
argument.</p></dd>


<dt id="arg-process-data">process_data<a class="anchor" aria-label="anchor" href="#arg-process-data"></a></dt>
<dd><p>If not <code>NULL</code>, it
must be a named list with these
elements: <code>fun</code> (required), the function
to further process the simulated
data, such as generating missing data using
functions such as <code>mice::ampute()</code>; <code>args</code> (optional), a
named list of arguments to be passed
to <code>fun</code>, except the one for the
source data; <code>sim_data_name</code> (optional) the
name of the argument to receive the
simulated data (e.g., <code>"data"</code> for
<code>mice::ampute()</code>), default to
<code>"data"</code> if it is not set; <code>processed_data_name</code>
(optional), the name of the data frame
after being processed by <code>fun</code>,
such as the data frame
with missing data in the output of
<code>fun</code> (e.g., <code>"amp"</code> for <code>mice::ampute()</code>),
if omitted, the output of <code>fun</code> should
be the data frame with missing data.</p></dd>


<dt id="arg-fit-model-args">fit_model_args<a class="anchor" aria-label="anchor" href="#arg-fit-model-args"></a></dt>
<dd><p>A list of the
arguments to be passed to <code><a href="fit_model.html">fit_model()</a></code>
when fitting the
model.
Should be a named list
with names being the names of the
arguments.</p></dd>


<dt id="arg-r">R<a class="anchor" aria-label="anchor" href="#arg-r"></a></dt>
<dd><p>The number of replications
to generate the Monte Carlo or
bootstrapping estimates
for each fit output. No Monte Carlo
nor bootstrapping
estimates will be generated if <code>R</code>
is set to <code>NULL</code>.</p></dd>


<dt id="arg-ci-type">ci_type<a class="anchor" aria-label="anchor" href="#arg-ci-type"></a></dt>
<dd><p>The type of
simulation-based confidence
intervals to use. Can be either
<code>"mc"</code> for Monte Carlo method
(the default) or <code>"boot"</code> for
nonparametric bootstrapping method.
Relevant for test functions that
make use of estimates generate by
<code><a href="gen_boot.html">gen_boot()</a></code> or <code><a href="gen_mc.html">gen_mc()</a></code>, such as
<code><a href="test_indirect_effect.html">test_indirect_effect()</a></code>.</p></dd>


<dt id="arg-gen-mc-args">gen_mc_args<a class="anchor" aria-label="anchor" href="#arg-gen-mc-args"></a></dt>
<dd><p>A list of
arguments to be passed to
<code><a href="https://sfcheung.github.io/manymome/reference/do_mc.html" class="external-link">manymome::do_mc()</a></code> when generating
the Monte Carlo estimates.
Should be a named argument
with names being the names of the
arguments. Used only if
<code>ci_type</code> is <code>"mc".</code></p></dd>


<dt id="arg-gen-boot-args">gen_boot_args<a class="anchor" aria-label="anchor" href="#arg-gen-boot-args"></a></dt>
<dd><p>A list of
arguments to be passed to
<code><a href="https://sfcheung.github.io/manymome/reference/do_boot.html" class="external-link">manymome::do_boot()</a></code> when generating
the bootstrap estimates.
Should be a named argument
with names being the names of the
arguments. Used only if
<code>ci_type</code> is `"boot".</p></dd>


<dt id="arg-test-fun">test_fun<a class="anchor" aria-label="anchor" href="#arg-test-fun"></a></dt>
<dd><p>A function to do the
test. See 'Details' for the requirement
of this function. There are some
built-in test functions in <code>power4mome</code>,
described in 'Details'.</p></dd>


<dt id="arg-test-args">test_args<a class="anchor" aria-label="anchor" href="#arg-test-args"></a></dt>
<dd><p>A list of arguments
to be passed to the <code>test_fun</code>
function. Default is <code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code>.</p></dd>


<dt id="arg-map-names">map_names<a class="anchor" aria-label="anchor" href="#arg-map-names"></a></dt>
<dd><p>A named character
vector specifying how the content of
the element <code>extra</code> in
each replication of <code>sim_all</code> map
to the argument of <code>test_fun</code>.
Default is <code>c(fit = "fit")</code>,
indicating that the element <code>fit</code>
in the element <code>extra</code> is set to
the argument <code>fit</code> of <code>test_fun</code>.
That is, for the first replication,
<code>fit = sim_out[[1]]$extra$fit</code> when
calling <code>test_fun</code>.</p></dd>


<dt id="arg-results-fun">results_fun<a class="anchor" aria-label="anchor" href="#arg-results-fun"></a></dt>
<dd><p>The function to be
used to extract the test results.
See <code>Details</code> for the requirements
of this function. Default is <code>NULL</code>,
assuming that the output of
<code>test_fun</code> can be used directly.</p></dd>


<dt id="arg-results-args">results_args<a class="anchor" aria-label="anchor" href="#arg-results-args"></a></dt>
<dd><p>A list of
arguments to be passed to the
<code>results_fun</code> function. Default is
<code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code>.</p></dd>


<dt id="arg-test-name">test_name<a class="anchor" aria-label="anchor" href="#arg-test-name"></a></dt>
<dd><p>String. The name
of the test. Default is <code>NULL</code>,
and the name will be created from
<code>test_fun</code>. Note that if <code>sim_out</code>
is a <code>power4test</code> object and already
has a test of this name stored, it
will be replaced by the new results.</p></dd>


<dt id="arg-test-note">test_note<a class="anchor" aria-label="anchor" href="#arg-test-note"></a></dt>
<dd><p>String. An optional
note for the test, stored in the
attribute <code>test_note</code> of the output
of <code><a href="do_test.html">do_test()</a></code>. Default is <code>NULL</code>.</p></dd>


<dt id="arg-do-the-test">do_the_test<a class="anchor" aria-label="anchor" href="#arg-do-the-test"></a></dt>
<dd><p>If <code>TRUE</code>,
<code><a href="do_test.html">do_test()</a></code> will be called to do the
test specified by <code>test_fun</code> on the
fit output of each dataset.</p></dd>


<dt id="arg-sim-all">sim_all<a class="anchor" aria-label="anchor" href="#arg-sim-all"></a></dt>
<dd><p>If set to either a
<code>sim_out</code> object (the output of
<code><a href="sim_out.html">sim_out()</a></code> or a <code>power4test</code> object
(the output of <code>power4test()</code>), the
stored datasets and fit outputs will
be used for doing the test. Setting
<code>object</code> to the output of <code>power4test()</code>
is now the preferred method, but this
argument is kept for backward
compatibility.</p></dd>


<dt id="arg-iseed">iseed<a class="anchor" aria-label="anchor" href="#arg-iseed"></a></dt>
<dd><p>The seed for the random
number generator. Default is <code>NULL</code>
and the seed is not changed. This
seed will be set only once, when
calling <code><a href="sim_data.html">sim_data()</a></code>.</p></dd>


<dt id="arg-parallel">parallel<a class="anchor" aria-label="anchor" href="#arg-parallel"></a></dt>
<dd><p>If <code>TRUE</code>, parallel
processing will be used when calling
other functions, if appropriate.
Default is <code>FALSE</code>.</p></dd>


<dt id="arg-progress">progress<a class="anchor" aria-label="anchor" href="#arg-progress"></a></dt>
<dd><p>If <code>TRUE</code>, the progress
of each step will be displayed.
Default is <code>TRUE</code>.</p></dd>


<dt id="arg-ncores">ncores<a class="anchor" aria-label="anchor" href="#arg-ncores"></a></dt>
<dd><p>The number of CPU
cores to use if parallel processing
is used.</p></dd>


<dt id="arg-es-">es1<a class="anchor" aria-label="anchor" href="#arg-es-"></a></dt>
<dd><p>Set the
values for each label of the effect
size (population value) for correlations and regression
paths.
Used only if <code>pop_es</code> is a named
vector or a multiline string.
See the help page on how to specify
this argument.</p></dd>


<dt id="arg-es-">es2<a class="anchor" aria-label="anchor" href="#arg-es-"></a></dt>
<dd><p>Set the
values for each label of the effect
size (population value) for product term.
Used only if <code>pop_es</code> is a named
vector or a multiline string.
See the help page on how to specify
this argument.</p></dd>


<dt id="arg-es-ind">es_ind<a class="anchor" aria-label="anchor" href="#arg-es-ind"></a></dt>
<dd><p>The names of labels
denoting the effect size of an
indirect effect. They will be
used to determine the population
values of the component paths along
an indirect path.</p></dd>


<dt id="arg-n-std">n_std<a class="anchor" aria-label="anchor" href="#arg-n-std"></a></dt>
<dd><p>The sample size used to
determine the error variances by
simulation when <code>std_force_monte_carlo</code>
is <code>TRUE</code>.</p></dd>


<dt id="arg-std-force-monte-carlo">std_force_monte_carlo<a class="anchor" aria-label="anchor" href="#arg-std-force-monte-carlo"></a></dt>
<dd><p>Logical.
If <code>FALSE</code>, the default,
standardization is done analytically
if the model has no product terms,
and by simulation if the model has
product terms. That is, error variances
required to ensure implied variances equal
to one are determined by simulation.
If <code>TRUE</code>, simulation
will be used whether the model has
product terms or not. Always fall
back to simulation if
analytical standardization failed.</p></dd>


<dt id="arg-rejection-rates-args">rejection_rates_args<a class="anchor" aria-label="anchor" href="#arg-rejection-rates-args"></a></dt>
<dd><p>Default
argument values to be used when
<code><a href="rejection_rates.html">rejection_rates()</a></code> is called. Can
be overriden when calling
<code><a href="rejection_rates.html">rejection_rates()</a></code>.</p></dd>


<dt id="arg-n-ratio">n_ratio<a class="anchor" aria-label="anchor" href="#arg-n-ratio"></a></dt>
<dd><p>If the model is a
multigroup model, and <code>n</code> is a single
number, this should be a numeric
vector used to determine the sample
size for each group. For example,
for a two-group model, if <code>n</code> is 100
and <code>n_ratio</code> is <code>c(1, 0.5)</code>, then
the sample sizes for the two groups
are 100 and 50, respectively. If
equal to 1, then all groups have the
same sample size.</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>The object
to be printed.</p></dd>


<dt id="arg-what">what<a class="anchor" aria-label="anchor" href="#arg-what"></a></dt>
<dd><p>A string vector of
what to print, <code>"data"</code> for
simulated data and <code>"test"</code> for
stored test(s). Default is
<code>c("data", "test")</code>.</p></dd>


<dt id="arg-digits">digits<a class="anchor" aria-label="anchor" href="#arg-digits"></a></dt>
<dd><p>The numbers of digits
displayed after the decimal.</p></dd>


<dt id="arg-digits-descriptive">digits_descriptive<a class="anchor" aria-label="anchor" href="#arg-digits-descriptive"></a></dt>
<dd><p>The
number of digits displayed after
the decimal for the descriptive
statistics table.</p></dd>


<dt id="arg-data-long">data_long<a class="anchor" aria-label="anchor" href="#arg-data-long"></a></dt>
<dd><p>If <code>TRUE</code>, detailed
results will be printed when printing
the simulated data.</p></dd>


<dt id="arg-test-long">test_long<a class="anchor" aria-label="anchor" href="#arg-test-long"></a></dt>
<dd><p>If <code>TRUE</code>, detailed
results will be printed when printing
test(s).</p></dd>


<dt id="arg-fit-to-all-args">fit_to_all_args<a class="anchor" aria-label="anchor" href="#arg-fit-to-all-args"></a></dt>
<dd><p>A named list
of arguments to be passed to
<code><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">lavaan::sem()</a></code> when the model is
fitted to a sample combined from
all samples stored.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Optional arguments to
be passed to other print methods</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of the class <code>power4test</code>,
which is a list with two elements:</p><ul><li><p><code>sim_all</code>: The output of <code><a href="sim_out.html">sim_out()</a></code>.</p></li>
<li><p><code>test_all</code>: A named list of the
output of <code><a href="do_test.html">do_test()</a></code>. The names
are the values of <code>test_name</code>.
This list can have more than one
test because a call to
<code>power4test()</code> can add new tests
to a <code>power4test</code> object.</p></li>
</ul><p>The <code>print</code> method of <code>power4test</code>
returns <code>x</code> invisibly. Called for
its side effect.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function <code>power4test()</code> is an
all-in-one function for
estimating the power of a test for
a model, given the sample size
and effect sizes (population values
of model parameters).</p>
    </div>
    <div class="section level2">
    <h2 id="workflow">Workflow<a class="anchor" aria-label="anchor" href="#workflow"></a></h2>
    <p>This is the workflow:</p><ul><li><p>If <code>object</code> is an output
of the output
of a previous call to
<code>power4test()</code> with <code>do_the_test</code>
set to <code>FALSE</code> and so has only the
model and the simulated data,
the following steps
will be skipped and go directly to
doing the test.</p><ul><li><p>Call <code><a href="sim_data.html">sim_data()</a></code> to determine
the population model and
generate the datasets, using
arguments such as <code>model</code> and
<code>pop_es</code>.</p></li>
<li><p>Call <code><a href="fit_model.html">fit_model()</a></code> to fit a
model to each of the datasets,
which is the population model
by default.</p></li>
<li><p>If <code>R</code> is not <code>NULL</code> and
<code>ci_type = "mc"</code>, call
<code><a href="gen_mc.html">gen_mc()</a></code> to generate Monte
Carlo estimates using
<code><a href="https://sfcheung.github.io/manymome/reference/do_mc.html" class="external-link">manymome::do_mc()</a></code>. The estimates
can be used by supported functions
such as <code><a href="test_indirect_effect.html">test_indirect_effect()</a></code>.</p></li>
<li><p>If <code>R</code> is not <code>NULL</code> and
<code>ci_type = "boot"</code>, call
<code><a href="gen_boot.html">gen_boot()</a></code> to generate
bootstrap estimates using
<code><a href="https://sfcheung.github.io/manymome/reference/do_boot.html" class="external-link">manymome::do_boot()</a></code>. The estimates
can be used by supported functions
such as <code><a href="test_indirect_effect.html">test_indirect_effect()</a></code>.</p></li>
<li><p>Merge the results into a
<code>sim_out</code> object by calling
<code><a href="sim_out.html">sim_out()</a></code>.</p></li>
<li><p>If <code>do_the_test</code> is <code>FALSE</code>,
skip the remaining steps and
return a <code>power4test</code> object,
which contains only the data
generated and optionally the
Monte Carlo or bootstrap
estimates.</p></li>
</ul></li>
<li><p>If <code>do_the_test</code> is <code>TRUE</code>, do
the test.</p><ul><li><p><code><a href="do_test.html">do_test()</a></code> will be called to do
the test in the fit output of
each dataset.</p></li>
</ul></li>
<li><p>Return a <code>power4test</code> object which
include the output of <code>sim_out</code>
and, if <code>do_the_test</code> is <code>TRUE</code>,
the output of <code><a href="do_test.html">do_test()</a></code>.</p></li>
</ul><p>This function is to be used when
users are interested only in the
power of one or several tests on a
particular aspect of the model, such
as a parameter, given a specific
effect sizes and sample sizes.</p>
<p>Detailed description on major
arguments can be found in sections
below.</p>
<p>NOTE: The technical internal workflow of
of <code>power4test()</code> can be found in
this page: <a href="https://sfcheung.github.io/power4mome/articles/power4test_workflow.html">https://sfcheung.github.io/power4mome/articles/power4test_workflow.html</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="updating-a-condition">Updating a Condition<a class="anchor" aria-label="anchor" href="#updating-a-condition"></a></h2>
    <p>The function <code>power4test()</code> can also be used to
update a condition when only some
selected aspects is to be changed.</p>
<p>For example,
instead of calling this function with
all the arguments set just to change
the sample size, it can be called
by supplying an existing
<code>power4test</code> object and set only
<code>n</code> to a new sample size. The data
and the tests will be updated
automatically. See the examples for
an illustration.</p>
    </div>
    <div class="section level2">
    <h2 id="adding-another-test">Adding Another Test<a class="anchor" aria-label="anchor" href="#adding-another-test"></a></h2>
    <p>The function <code>power4test()</code> can also be used to
add a test to the output from a
previous call to <code>power4test()</code>.</p>
<p>For example, after simulating the
datasets and doing one test,
the output can be set to <code>object</code>
of <code>power4test()</code>, and set only
<code>test_fun</code> and, optionally,
<code>test_fun_args</code> to do one more test
on the generated datasets. The output
will be the original
object with the results of the new
test added. See the examples for
an illustration.</p>
    </div>
    <div class="section level2">
    <h2 id="model-fitting-arguments-fit-model-args-">Model Fitting Arguments ('fit_model_args')<a class="anchor" aria-label="anchor" href="#model-fitting-arguments-fit-model-args-"></a></h2>
    <p>For power analysis, usually, the
population model (<code>model</code>) is to be
fitted, and there is no need to
set <code>fit_model_args</code>.</p>
<p>If power analysis is to be conducted
for fitting a model that is not the
population model, of if non-default
settings are desired when fitting
a model, then the argument <code>fit_model_args</code>
needed to be set to customize the
call to <code><a href="fit_model.html">fit_model()</a></code>.</p>
<p>For example,
users may want to examine the power
of a test when a misspecified model
is fitted, or the power of a test
when MLR is used as the estimator
when calling <code><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">lavaan::sem()</a></code>.</p>
<p>See the help page of <code><a href="fit_model.html">fit_model()</a></code>
for some examples.</p>
    </div>
    <div class="section level2">
    <h2 id="specify-the-population-model-by-model-">Specify the Population Model by 'model'<a class="anchor" aria-label="anchor" href="#specify-the-population-model-by-model-"></a></h2>

<div class="section">
<h3 id="single-group-model">Single-Group Model<a class="anchor" aria-label="anchor" href="#single-group-model"></a></h3>


<p>For a single-group model, <code>model</code>
should be a <code>lavaan</code> model syntax
string of the <em>form</em> of the model.
The population values of the model
parameters are to be determined by
<code>pop_es</code>.</p>
<p>If the model has latent factors,
the syntax in <code>model</code> should specify
only the <em>structural model</em> for the
<em>latent factors</em>. There is no
need to specify the measurement
part. Other functions will generate
the measurement part on top of this
model.</p>
<p>For example, this is a simple mediation
model:</p>
<div class="sourceCode"><pre><code><span><span class="st">"m ~ x</span></span>
<span><span class="st"> y ~ m + x"</span></span></code></pre></div>

<p>Whether <code>m</code>, <code>x</code>, and <code>y</code> denote
observed variables or latent factors
are determined by other functions,
such as <code>power4test()</code>.</p>
</div>

<div class="section">
<h3 id="multigroup-model">Multigroup Model<a class="anchor" aria-label="anchor" href="#multigroup-model"></a></h3>


<p>Because the model is the population
model, equality constraints are
irrelevant and the model syntax
specifies only the <em>form</em> of the
model. Therefore, <code>model</code> is
specified as in the case of single
group models.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="specify-pop-es-using-named-vectors">Specify 'pop_es' Using Named Vectors<a class="anchor" aria-label="anchor" href="#specify-pop-es-using-named-vectors"></a></h2>
    <p>The argument <code>pop_es</code> is for specifying
the population values of model
parameters. This section describes
how to do this using named vectors.</p><div class="section">
<h3 id="single-group-model-1">Single-Group Model<a class="anchor" aria-label="anchor" href="#single-group-model-1"></a></h3>


<p>If <code>pop_es</code> is specified by a named
vector, it must follow the convention
below.</p><ul><li><p>The names of the vectors are
<code>lavaan</code> names for the selected
parameters. For example, <code>m ~ x</code>
denotes the path from <code>x</code> to <code>m</code>.</p></li>
<li><p>Alternatively, the names can be
either <code>".beta."</code> or <code>".cov."</code>.
Use <code>".beta."</code> to set the default
values for all regression coefficients.
Use <code>".cov."</code> to set the default
values for all correlations of
exogenous variables (e.g., predictors).</p></li>
<li><p>The names can also be of this form:
<code>".ind.(&lt;path&gt;)"</code>, whether <code>&lt;path&gt;</code>
denote path in the model. For
example, <code>".ind.(x-&gt;m-&gt;y)"</code> denotes
the path from <code>x</code> through <code>m</code> to
<code>y</code>. Alternatively, the <code>lavaan</code>
symbol <code>~</code> can also be used:
<code>".ind.(y~m~x)"</code>. This form is used
to set the indirect effect (standardized,
by default) along this path. The
value for this name will override
other settings.</p></li>
<li><p>If using <code>lavaan</code> names, can
specify more than one parameter
using <code>+</code>. For example, <code>y ~ m + x</code>
denotes the two paths from <code>m</code> and
<code>x</code> to <code>y</code>.</p></li>
<li><p>The value of each element can be
the label for the effect size: <code>n</code>
for nil, <code>s</code> for small, <code>m</code> for
medium, and <code>l</code> for large. The
value for each label is determined
by <code>es1</code> and <code>es2</code>. See the section
on specifying these two arguments.</p></li>
<li><p>The value of <code>pop_es</code> can also be
set to a value, but it must be
quoted as a string, such as <code>"y ~ x" = ".31"</code>.</p></li>
</ul><p>This is an example:</p>
<div class="sourceCode"><pre><code><span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">".beta."</span> <span class="op">=</span> <span class="st">"s"</span>,</span>
<span>  <span class="st">"m1 ~ x"</span> <span class="op">=</span> <span class="st">"-m"</span>,</span>
<span>  <span class="st">"m2 ~ m1"</span> <span class="op">=</span> <span class="st">"l"</span>,</span>
<span>  <span class="st">"y ~ x:w"</span> <span class="op">=</span> <span class="st">"s"</span><span class="op">)</span></span></code></pre></div>

<p>In this example,</p><ul><li><p>All regression coefficients are
set to small (<code>s</code>) by default, unless
specified otherwise.</p></li>
<li><p>The path from <code>x</code> to <code>m1</code> is
set to medium and negative (<code>-m</code>).</p></li>
<li><p>The path from <code>m1</code> to <code>m2</code> is set
to large (<code>l</code>).</p></li>
<li><p>The coefficient of the product
term <code>x:w</code> when predicting <code>y</code> is
set to small (<code>s</code>).</p></li>
</ul><div class="section">
<h4 id="indirect-effect">Indirect Effect<a class="anchor" aria-label="anchor" href="#indirect-effect"></a></h4>


<p>When setting an indirect effect to
a symbol (default: <code>"si"</code>, <code>"mi"</code>,
<code>"li"</code>, with <code>"i"</code> added to differentiate
them from the labels for a direct path),
the corresponding value is used to
determine the population values of
<em>all</em> component paths along the pathway.
All the values are assumed to be equal.
Therefore, <code>".ind.(x-&gt;m-&gt;y)" = ".20"</code>
is equivalent to setting <code>m ~ x</code>
and <code>y ~ m</code> to the square root of
.20, such that the corresponding
indirect effect is equal to the
designated value.</p>
<p>This behavior, though restricted,
is for quick manipulation of the
indirect effect. If different values
along a pathway, set the value for
each path directly.</p>
<p>Only nonnegative value is supported.
Therefore, <code>".ind.(x-&gt;m-&gt;y)" = "-si"</code>
and <code>".ind.(x-&gt;m-&gt;y)" = "-.20"</code> will
throw an error.</p>
</div>


</div>

<div class="section">
<h3 id="multigroup-model-1">Multigroup Model<a class="anchor" aria-label="anchor" href="#multigroup-model-1"></a></h3>


<p>The argument <code>pop_es</code> also supports multigroup
models.</p>
<p>For <code>pop_es</code>, instead of
named vectors, named <em>list</em> of
named vectors should be used.</p><ul><li><p>The names are the parameters, or
keywords such as <code>.beta.</code> and
<code>.cov.</code>, like specifying the
population values for a single
group model.</p></li>
<li><p>The elements are character vectors.
If it has only one element (e.g.,
a single string), then it is the
the population value for all groups.
If it has more than one element
(e.g., a vector of three strings),
then they are the population values
of the groups. For a model of <em>k</em>
groups, each vector must have
either <em>k</em> elements or one element.</p></li>
</ul><p>This is an example:</p>
<div class="sourceCode"><pre><code><span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"m ~ x"</span> <span class="op">=</span> <span class="st">"m"</span>,</span>
<span>     <span class="st">"y ~ m"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"s"</span>, <span class="st">"m"</span>, <span class="st">"l"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>

<p>In this model, the population value
of the path <code>m ~ x</code> is medium (<code>m</code>) for
all groups, while the population
values for the path <code>y ~ m</code> are
small (<code>s</code>), medium (<code>m</code>), and large (<code>l</code>),
respectively.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="specify-pop-es-using-a-multiline-string">Specify 'pop_es' Using a Multiline String<a class="anchor" aria-label="anchor" href="#specify-pop-es-using-a-multiline-string"></a></h2>
    <p>When setting the argument <code>pop_es</code>,
instead of using a named vector
or named list for
<code>pop_es</code>, the population values of
model parameters can also be
specified using a multiline string,
as illustrated below, to be parsed
by <code><a href="pop_es_yaml.html">pop_es_yaml()</a></code>.</p><div class="section">
<h3 id="single-group-model-2">Single-Group Model<a class="anchor" aria-label="anchor" href="#single-group-model-2"></a></h3>


<p>This is an example of the multiline string
for a single-group model:</p>
<div class="sourceCode"><pre><code><span><span class="va">y</span> <span class="op">~</span> <span class="va">m</span><span class="op">:</span> <span class="va">l</span></span>
<span><span class="va">m</span> <span class="op">~</span> <span class="va">x</span><span class="op">:</span> <span class="va">m</span></span>
<span><span class="va">y</span> <span class="op">~</span> <span class="va">x</span><span class="op">:</span> <span class="va">nil</span></span></code></pre></div>

<p>The string must follow this format:</p><ul><li><p>Each line starts with <code>tag:</code>.</p><ul><li><p><code>tag</code> can be the name of a
parameter, in <code>lavaan</code> model
syntax format.</p><ul><li><p>For example, <code>m ~ x</code>
denotes the path from <code>x</code> to <code>m</code>.</p></li>
</ul></li>
<li><p>A tag in <code>lavaan</code> model syntax can
specify more than one parameter
using <code>+</code>.</p><ul><li><p>For example, <code>y ~ m + x</code>
denotes the two paths from <code>m</code> and
<code>x</code> to <code>y</code>.</p></li>
</ul></li>
<li><p>Alternatively, the <code>tag</code> can be
either <code>.beta.</code> or <code>.cov.</code>.</p><ul><li><p>Use <code>.beta.</code> to set the default
values for all regression coefficients.</p></li>
<li><p>Use <code>.cov.</code> to set the default
values for all correlations of
exogenous variables (e.g., predictors).</p></li>
</ul></li>
</ul></li>
<li><p>After each tag is the value of the
population value:</p>
<p>-<code>nil</code> for nil (zero),</p><ul><li><p><code>s</code> for small,</p></li>
<li><p><code>m</code> for medium, and</p></li>
<li><p><code>l</code> for large.</p></li>
<li><p><code>si</code>, <code>mi</code>, and <code>li</code> for
small, medium, and large a
standardized indirect effect,
respectively.</p></li>
</ul><p>Note: <code>n</code> <em>cannot</em> be used in this mode.</p>
<p>The
value for each label is determined
by <code>es1</code> and <code>es2</code> as described
in <code><a href="ptable_pop.html">ptable_pop()</a></code>.</p><ul><li><p>The value can also be
set to a numeric value, such as
<code>.30</code> or <code>-.30</code>.</p></li>
</ul></li>
</ul><p>This is another example:</p>
<div class="sourceCode"><pre><code><span><span class="va">.beta.</span><span class="op">:</span> <span class="va">s</span></span>
<span><span class="va">y</span> <span class="op">~</span> <span class="va">m</span><span class="op">:</span> <span class="va">l</span></span></code></pre></div>

<p>In this example, all regression
coefficients are <code>small</code>, while
the path from <code>m</code> to <code>y</code> is large.</p>
</div>

<div class="section">
<h3 id="multigroup-model-2">Multigroup Model<a class="anchor" aria-label="anchor" href="#multigroup-model-2"></a></h3>


<p>This is an example of the string
for a multigroup model:</p>
<div class="sourceCode"><pre><code><span><span class="va">y</span> <span class="op">~</span> <span class="va">m</span><span class="op">:</span> <span class="va">l</span></span>
<span><span class="va">m</span> <span class="op">~</span> <span class="va">x</span><span class="op">:</span></span>
<span>  <span class="op">-</span> <span class="va">nil</span></span>
<span>  <span class="op">-</span> <span class="va">s</span></span>
<span><span class="va">y</span> <span class="op">~</span> <span class="va">x</span><span class="op">:</span> <span class="va">nil</span></span></code></pre></div>

<p>The format is similar to that for
a single-group model. If a parameter
has the same value for all groups,
then the line can be specified
as in the case of a single-group
model: <code>tag: value</code>.</p>
<p>If a parameter has different
values across groups, then it must
be in this format:</p><ul><li><p>A line starts with the tag, followed
by two or more lines. Each line
starts with a hyphen <code>-</code> and the
value for a group.</p></li>
</ul><p>For example:</p>
<div class="sourceCode"><pre><code><span><span class="va">m</span> <span class="op">~</span> <span class="va">x</span><span class="op">:</span></span>
<span>  <span class="op">-</span> <span class="va">nil</span></span>
<span>  <span class="op">-</span> <span class="va">s</span></span></code></pre></div>

<p>This denotes that the model has
two groups. The values of the path
from <code>x</code> to <code>m</code> for the two
groups are 0 (<code>nil</code>) and
small (<code>s</code>), respectively.</p>
<p>Another equivalent way to specify
the values are using <code>[]</code>, on
the same line of a tag.</p>
<p>For example:</p>
<div class="sourceCode"><pre><code>m ~ x: [nil, s]</code></pre></div>

<p>The number of groups is inferred
from the number of values for
a parameter. Therefore, if a tag
has more than one value, each tag
must has the same number of value,
or only one value.</p>
<p>The tag <code>.beta.</code> and <code>.cov.</code> can
also be used for multigroup models.</p>
</div>

<div class="section">
<h3 id="which-approach-to-use">Which Approach To Use<a class="anchor" aria-label="anchor" href="#which-approach-to-use"></a></h3>


<p>Note that using named vectors or
named lists is more reliable. However,
using a multiline string is
more user-friendly. If this method
failed, please use named vectors or
named list instead.</p>
</div>

<div class="section">
<h3 id="technical-details">Technical Details<a class="anchor" aria-label="anchor" href="#technical-details"></a></h3>


<p>The multiline string is parsed by <code><a href="https://yaml.r-lib.org/reference/read_yaml.html" class="external-link">yaml::read_yaml()</a></code>.
Therefore, the format requirement
is actually that of YAML. Users
knowledgeable of YAML can use other
equivalent way to specify the string.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="set-the-values-for-effect-size-labels-es-and-es-">Set the Values for Effect Size Labels ('es1' and 'es2')<a class="anchor" aria-label="anchor" href="#set-the-values-for-effect-size-labels-es-and-es-"></a></h2>
    <p>The vector <code>es1</code> is for correlations,
regression coefficients, and
indirect effect, and the
vector <code>es2</code> is for for standardized
moderation effect, the coefficients
of a product term. These labels
are to be used in interpreting
the specification in <code>pop_es</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="set-number-of-indicators-and-reliability-">Set 'number_of_indicators' and 'reliability'<a class="anchor" aria-label="anchor" href="#set-number-of-indicators-and-reliability-"></a></h2>
    <p>The arguments <code>number_of_indicators</code>
and <code>reliability</code> are used to
specify the number of indicators
(e.g., items) for each factor,
and the population reliability
coefficient of each factor,
if the variables in the model
syntax are latent variables.</p><div class="section">
<h3 id="single-group-model-3">Single-Group Model<a class="anchor" aria-label="anchor" href="#single-group-model-3"></a></h3>


<p>If a variable in the model is to be
replaced by indicators in the generated
data, set
<code>number_of_indicators</code> to a named
numeric vector. The names are the
variables of variables with
indicators, as appeared in the
<code>model</code> syntax. The value of each
name is the number of indicators.</p>
<p>The
argument <code>reliability</code> should then be
set a named numeric vector (or list,
see the section on multigroup models)
to specify the population reliability
coefficient ("omega") of each set of
indicators. The population standardized factor
loadings are then computed to ensure
that the population reliability
coefficient is of the target value.</p>
<p>These are examples for a single group
model:</p>
<div class="sourceCode"><pre><code>number of indicator = c(m = 3, x = 4, y = 5)</code></pre></div>

<p>The numbers of indicators for <code>m</code>,
<code>x</code>, and <code>y</code> are 3, 4, and 5,
respectively.</p>
<div class="sourceCode"><pre><code><span><span class="va">reliability</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>m <span class="op">=</span> <span class="fl">.90</span>, x <span class="op">=</span> <span class="fl">.80</span>, y <span class="op">=</span> <span class="fl">.70</span><span class="op">)</span></span></code></pre></div>

<p>The population reliability
coefficients of <code>m</code>, <code>x</code>, and <code>y</code> are
.90, .80, and .70, respectively.</p>
</div>

<div class="section">
<h3 id="multigroup-models">Multigroup Models<a class="anchor" aria-label="anchor" href="#multigroup-models"></a></h3>


<p>Multigroup models are supported.
The number of groups is inferred
from <code>pop_es</code> (see the help page
of <code><a href="ptable_pop.html">ptable_pop()</a></code>), or directly
from <code>ptable</code>.</p>
<p>For a multigroup model, the number
of indicators for each variable
must be the same across groups.</p>
<p>However, the population reliability
coefficients can be different
across groups. For a multigroup model
of <em>k</em> groups,
with one or more population reliability
coefficients differ across groups,
the argument <code>reliability</code> should be
set to a named list. The names are
the variables to which the population
reliability coefficients are to be
set. The element for each name is
either a single value for the common
reliability coefficient, or a
numeric vector of the reliability
coefficient of each group.</p>
<p>This is an example of <code>reliability</code>
for a model with 2 groups:</p>
<div class="sourceCode"><pre><code><span><span class="va">reliability</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">.80</span>, m <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.70</span>, <span class="fl">.80</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>

<p>The reliability coefficients of <code>x</code> are
.80 in all groups, while the
reliability coefficients of <code>m</code> are
.70 in one group and .80 in another.</p>
</div>

<div class="section">
<h3 id="equal-numbers-of-indicators-and-or-reliability-coefficients">Equal Numbers of Indicators and/or Reliability Coefficients<a class="anchor" aria-label="anchor" href="#equal-numbers-of-indicators-and-or-reliability-coefficients"></a></h3>


<p>If all variables in the model has
the same number of indicators,
<code>number_of_indicators</code> can be set
to one single value.</p>
<p>Similarly, if all sets of indicators
have the same population reliability
in all groups, <code>reliability</code> can also
be set to one single value.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="specify-the-distributions-of-exogenous-variables-or-error-terms-using-x-fun-">Specify The Distributions of Exogenous Variables Or Error Terms Using 'x_fun'<a class="anchor" aria-label="anchor" href="#specify-the-distributions-of-exogenous-variables-or-error-terms-using-x-fun-"></a></h2>
    <p>By default, variables and error
terms are generated
from a multivariate normal distribution.
If desired, users can supply the
function used to generate an exogenous
variable and error term by setting <code>x_fun</code> to
a named list.</p>
<p>The names of the list are the variables
for which a user function will be used
to generate the data.</p>
<p>Each element of the list must also
be a list. The first element of this
list, can be unnamed, is the
function to be used. If other arguments
need to be supplied, they should be
included as named elements of this list.</p>
<p>For example:</p>
<div class="sourceCode"><pre><code>x_fun = list(x = list(power4mome::rexp_rs),
             w = list(power4mome::rbinary_rs,
                      p1 = .70)))</code></pre></div>

<p>The variables <code>x</code> and <code>w</code> will be
generated by user-supplied functions.</p>
<p>For <code>x</code>, the function is
<code><a href="rexp_rs.html">power4mome::rexp_rs</a></code>. No additional
argument when calling this function.</p>
<p>For <code>w</code>, the function is
<code>power4mome::rbinary_rx</code>. The argument
<code>p1 = .70</code> will be passed to this
function when generating the values
of <code>w</code>.</p>
<p>If a variable is an endogenous
variable (e.g., being predicted by
another variable in a model), then
<code>x_fun</code> is used to generate its
<em>error term</em>. Its implied population
distribution may still be different
from that generate by <code>x_fun</code> because
the distribution also depends on the
distribution of other variables
predicting it.</p>
<p>These are requirements for the
user-functions:</p><ul><li><p>They must return a numeric vector.</p></li>
<li><p>They mush has an argument <code>n</code> for
the number of values.</p></li>
<li><p>The <em>population</em> mean and standard
deviation of the generated values
must be 0 and 1, respectively.</p></li>
</ul><p>The package <code>power4mome</code> has
helper functions for generating
values from some common nonnormal
distributions and then scaling them
to have population mean and standard
deviation equal to 0 and 1 (by default), respectively.
These are some of them:</p><ul><li><p><code><a href="rbinary_rs.html">rbinary_rs()</a></code>.</p></li>
<li><p><code><a href="rexp_rs.html">rexp_rs()</a></code>.</p></li>
<li><p><code><a href="rbeta_rs.html">rbeta_rs()</a></code>.</p></li>
<li><p><code><a href="rlnorm_rs.html">rlnorm_rs()</a></code>.</p></li>
<li><p><code><a href="rpgnorm_rs.html">rpgnorm_rs()</a></code>.</p></li>
</ul><p>To use <code>x_fun</code>, the variables must
have zero covariances with other
variables in the population. It is
possible to generate nonnormal
multivariate data but we believe this
is rarely needed when estimating
power <em>before</em> having the data.</p>
    </div>
    <div class="section level2">
    <h2 id="major-test-related-arguments">Major Test-Related Arguments<a class="anchor" aria-label="anchor" href="#major-test-related-arguments"></a></h2>

<div class="section">
<h3 id="the-test-function-test-fun-">The test function (test_fun)<a class="anchor" aria-label="anchor" href="#the-test-function-test-fun-"></a></h3>


<p>The function set to <code>test_fun</code>,
the <em>test function</em>, usually
should work
on the output of <code><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">lavaan::sem()</a></code>,
<code><a href="https://sfcheung.github.io/lmhelprs/reference/many_lm.html" class="external-link">lmhelprs::many_lm()</a></code>, or
<code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">stats::lm()</a></code>, but can also be a
function that works on the output
of the function set to <code>fit_function</code>
when calling <code><a href="fit_model.html">fit_model()</a></code> or
<code>power4test()</code> (see <code>fit_model_args</code>).</p>
<p>The function has two default
requirements.</p>
<p>First, it has an argument <code>fit</code>, to
be set to the output of
<code><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">lavaan::sem()</a></code> or another output
stored in the element <code>extra$fit</code> of
a replication in the <code>sim_all</code>
object. (This requirement can be
relaxed; see the section on <code>map_names</code>.)</p>
<p>That is, the function definition
should be of this from: <code>FUN(fit, ...)</code>. This is the form of all
<code>test_*</code> functions in <code>power4mome</code>.</p>
<p>If other arguments are to be passed
to the test function, they can be set
to <code>test_args</code> as a named list.</p>
<p>Second, the test function must
returns an output that (a) can be
processed by the results function
(see below), or (b) is of
the required format for the output of
a results function (see the next
section). If it already returns
an output of the required format,
then there is no need to set the
results function.</p>
</div>

<div class="section">
<h3 id="the-results-function-results-fun-">The results function (results_fun)<a class="anchor" aria-label="anchor" href="#the-results-function-results-fun-"></a></h3>


<p>The test results will be extracted
from the output of <code>test_fun</code> by the
function set to <code>results_fun</code>,
the <em>results function</em>. If
the <code>test_fun</code> already returns an
output of the expected format
(see below), then set <code>results_fun</code>
to <code>NULL</code>, the default. The output
of <code>test_fun</code> will be used for
estimating power.</p>
<p>The function set to <code>results_fun</code>
must accept the output of <code>test_fun</code>,
as the first argument, and return a
named list (which can be a data frame)
or a named vector with some
of the following
elements:</p><ul><li><p><code>est</code>: Optional. The estimate of a
parameter, if applicable.</p></li>
<li><p><code>se</code>: Optional. The standard error
of the estimate, if applicable.</p></li>
<li><p><code>cilo</code>: Optional. The lower limit of the
confidence interval, if applicable.</p></li>
<li><p><code>cihi</code>: Optional. The upper limit of the
confidence interval, if applicable.</p></li>
<li><p><code>sig</code>: Required. If <code>1</code>, the test is
significant. If <code>0</code>, the test is not
significant. If the test cannot be
done for any reason, it should be
<code>NA</code>.</p></li>
</ul><p>The results can then be used to
estimate the power or Type I
error of the test.</p>
<p>For example, if
the null hypothesis is false, then
the proportion of significant, that
is, the mean of the values of <code>sig</code>
across replications, is the power.</p>
</div>

<div class="section">
<h3 id="built-in-test-functions">Built-in test functions<a class="anchor" aria-label="anchor" href="#built-in-test-functions"></a></h3>


<p>The package <code>power4mome</code> has some ready-to-use
test functions:</p><ul><li><p><code><a href="test_indirect_effect.html">test_indirect_effect()</a></code></p></li>
<li><p><code><a href="test_cond_indirect.html">test_cond_indirect()</a></code></p></li>
<li><p><code><a href="test_cond_indirect_effects.html">test_cond_indirect_effects()</a></code></p></li>
<li><p><code><a href="test_moderation.html">test_moderation()</a></code></p></li>
<li><p><code><a href="test_index_of_mome.html">test_index_of_mome()</a></code></p></li>
<li><p><code><a href="test_parameters.html">test_parameters()</a></code></p></li>
</ul><p>Please refer to their help pages
for examples.</p>
</div>

<div class="section">
<h3 id="the-argument-map-names">The argument map_names<a class="anchor" aria-label="anchor" href="#the-argument-map-names"></a></h3>


<p>This argument is for developers using
a test function that has a different
name for the argument of the fit
object (<code>"fit"</code>, the default).</p>
<p>If <code>test_fun</code> is set to a function
that works on an output of, say,
<code><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">lavaan::sem()</a></code> but the argument name
for the output is not <code>fit</code>, the
mapping can be changed by
<code>map_names</code>.</p>
<p>For example,
<code><a href="https://rdrr.io/pkg/lavaan/man/parameterEstimates.html" class="external-link">lavaan::parameterEstimates()</a></code>
receives an output of <code><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">lavaan::sem()</a></code>
and reports the test results of model
parameters. However, the argument
name for the <code>lavaan</code> output is
<code>object.</code> To instruct <code><a href="do_test.html">do_test()</a></code> to
do the test correctly when setting
<code>test_fun</code> to
<code><a href="https://rdrr.io/pkg/lavaan/man/parameterEstimates.html" class="external-link">lavaan::parameterEstimates</a></code>, add
<code>map_names = c(object = "fit")</code>. The
element <code>fit</code> in a replication will
then set to the argument <code>object</code> of
<code><a href="https://rdrr.io/pkg/lavaan/man/parameterEstimates.html" class="external-link">lavaan::parameterEstimates()</a></code>.</p>
</div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Specify the model</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">model_simple_med</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span><span class="st">"</span></span></span>
<span class="r-in"><span><span class="st">m ~ x</span></span></span>
<span class="r-in"><span><span class="st">y ~ m + x</span></span></span>
<span class="r-in"><span><span class="st">"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Specify the population values</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">model_simple_med_es</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span><span class="st">"</span></span></span>
<span class="r-in"><span><span class="st">m ~ x: m</span></span></span>
<span class="r-in"><span><span class="st">y ~ m: l</span></span></span>
<span class="r-in"><span><span class="st">y ~ x: n</span></span></span>
<span class="r-in"><span><span class="st">"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Set nrep to a large number in real analysis, such as 400</span></span></span>
<span class="r-in"><span><span class="co"># Set `parallel` to TRUE for faster, usually much faster, analysis</span></span></span>
<span class="r-in"><span><span class="co"># Set `progress` to TRUE to display the progress of the analysis</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu">power4test</span><span class="op">(</span>nrep <span class="op">=</span> <span class="fl">10</span>,</span></span>
<span class="r-in"><span>                  model <span class="op">=</span> <span class="va">model_simple_med</span>,</span></span>
<span class="r-in"><span>                  pop_es <span class="op">=</span> <span class="va">model_simple_med_es</span>,</span></span>
<span class="r-in"><span>                  n <span class="op">=</span> <span class="fl">100</span>,</span></span>
<span class="r-in"><span>                  test_fun <span class="op">=</span> <span class="va">test_parameters</span>,</span></span>
<span class="r-in"><span>                  test_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>pars <span class="op">=</span> <span class="st">"m~x"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                  iseed <span class="op">=</span> <span class="fl">1234</span>,</span></span>
<span class="r-in"><span>                  parallel <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                  progress <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Simulate the data:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fit the model(s):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Do the test: test_parameters: CIs (pars: m~x) </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">out</span>,</span></span>
<span class="r-in"><span>      test_long <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ====================== Model Information ======================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> == Model on Factors/Variables ==</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> m ~ x</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> y ~ m + x</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> == Model on Variables/Indicators ==</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> m ~ x</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> y ~ m + x</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ====== Population Values ======</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Regressions:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                    Population</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   m ~                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     x                 0.300  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   y ~                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     m                 0.500  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     x                 0.000  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variances:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                    Population</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    .m                 0.910  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    .y                 0.750  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     x                 1.000  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Computing indirect effects for 2 paths ...)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> == Population Conditional/Indirect Effect(s) ==</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> == Indirect Effect(s) ==</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               ind</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x -&gt; m -&gt; y 0.150</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x -&gt; y      0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - The 'ind' column shows the indirect effect(s).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ======================= Data Information =======================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of Replications:  10 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sample Sizes:  100 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call print with 'data_long = TRUE' for further information.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ==================== Extra Element(s) Found ====================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - fit</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> === Element(s) of the First Dataset ===</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ============ &lt;fit&gt; ============</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> lavaan 0.6-21 ended normally after 1 iteration</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Estimator                                         ML</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Optimization method                           NLMINB</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Number of model parameters                         5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Number of observations                           100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model Test User Model:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Test statistic                                 0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Degrees of freedom                                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ========== &lt;test_parameters: CIs (pars: m~x)&gt; ==========</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mean(s) across replication:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   test_label lhs op rhs   est    se     z pvalue  cilo  cihi   sig</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1        m~x   m  ~   x 0.320 0.098 3.234  0.092 0.128 0.512 0.800</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - The column 'sig' shows the rejection rates.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - If the null hypothesis is false, the rate is the power.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Number of valid replications for rejection rate(s): 10 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Proportion of valid replications for rejection rate(s): 1.000 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Change the sample size</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">out1</span> <span class="op">&lt;-</span> <span class="fu">power4test</span><span class="op">(</span><span class="va">out</span>,</span></span>
<span class="r-in"><span>                   n <span class="op">=</span> <span class="fl">200</span>,</span></span>
<span class="r-in"><span>                   iseed <span class="op">=</span> <span class="fl">1234</span>,</span></span>
<span class="r-in"><span>                   parallel <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                   progress <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Re-simulate the data:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fit the model(s):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Update the test(s):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Update test_parameters: CIs (pars: m~x) :</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">out1</span>,</span></span>
<span class="r-in"><span>      test_long <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ====================== Model Information ======================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> == Model on Factors/Variables ==</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> m ~ x</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> y ~ m + x</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> == Model on Variables/Indicators ==</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> m ~ x</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> y ~ m + x</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ====== Population Values ======</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Regressions:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                    Population</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   m ~                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     x                 0.300  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   y ~                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     m                 0.500  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     x                 0.000  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variances:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                    Population</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    .m                 0.910  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    .y                 0.750  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     x                 1.000  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Computing indirect effects for 2 paths ...)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> == Population Conditional/Indirect Effect(s) ==</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> == Indirect Effect(s) ==</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               ind</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x -&gt; m -&gt; y 0.150</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x -&gt; y      0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - The 'ind' column shows the indirect effect(s).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ======================= Data Information =======================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of Replications:  10 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sample Sizes:  200 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call print with 'data_long = TRUE' for further information.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ==================== Extra Element(s) Found ====================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - fit</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> === Element(s) of the First Dataset ===</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ============ &lt;fit&gt; ============</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> lavaan 0.6-21 ended normally after 1 iteration</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Estimator                                         ML</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Optimization method                           NLMINB</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Number of model parameters                         5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Number of observations                           200</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model Test User Model:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Test statistic                                 0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Degrees of freedom                                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ========== &lt;test_parameters: CIs (pars: m~x)&gt; ==========</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mean(s) across replication:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   test_label lhs op rhs   est    se     z pvalue  cilo  cihi   sig</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1        m~x   m  ~   x 0.305 0.067 4.571  0.000 0.174 0.436 1.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - The column 'sig' shows the rejection rates.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - If the null hypothesis is false, the rate is the power.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Number of valid replications for rejection rate(s): 10 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Proportion of valid replications for rejection rate(s): 1.000 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Add one more test</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">out2</span> <span class="op">&lt;-</span> <span class="fu">power4test</span><span class="op">(</span><span class="va">out</span>,</span></span>
<span class="r-in"><span>                   test_fun <span class="op">=</span> <span class="va">test_parameters</span>,</span></span>
<span class="r-in"><span>                   test_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>pars <span class="op">=</span> <span class="st">"y~x"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                   parallel <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                   progress <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Do the test: test_parameters: CIs (pars: y~x) </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">out2</span>,</span></span>
<span class="r-in"><span>      test_long <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ====================== Model Information ======================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> == Model on Factors/Variables ==</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> m ~ x</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> y ~ m + x</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> == Model on Variables/Indicators ==</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> m ~ x</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> y ~ m + x</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ====== Population Values ======</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Regressions:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                    Population</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   m ~                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     x                 0.300  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   y ~                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     m                 0.500  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     x                 0.000  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variances:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                    Population</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    .m                 0.910  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    .y                 0.750  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     x                 1.000  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Computing indirect effects for 2 paths ...)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> == Population Conditional/Indirect Effect(s) ==</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> == Indirect Effect(s) ==</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               ind</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x -&gt; m -&gt; y 0.150</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x -&gt; y      0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - The 'ind' column shows the indirect effect(s).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ======================= Data Information =======================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of Replications:  10 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sample Sizes:  100 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call print with 'data_long = TRUE' for further information.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ==================== Extra Element(s) Found ====================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - fit</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> === Element(s) of the First Dataset ===</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ============ &lt;fit&gt; ============</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> lavaan 0.6-21 ended normally after 1 iteration</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Estimator                                         ML</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Optimization method                           NLMINB</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Number of model parameters                         5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Number of observations                           100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model Test User Model:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Test statistic                                 0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Degrees of freedom                                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ========== &lt;test_parameters: CIs (pars: m~x)&gt; ==========</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mean(s) across replication:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   test_label lhs op rhs   est    se     z pvalue  cilo  cihi   sig</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1        m~x   m  ~   x 0.320 0.098 3.234  0.092 0.128 0.512 0.800</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - The column 'sig' shows the rejection rates.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - If the null hypothesis is false, the rate is the power.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Number of valid replications for rejection rate(s): 10 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Proportion of valid replications for rejection rate(s): 1.000 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ========== &lt;test_parameters: CIs (pars: y~x)&gt; ==========</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mean(s) across replication:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   test_label lhs op rhs    est    se      z pvalue   cilo  cihi   sig</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1        y~x   y  ~   x -0.069 0.093 -0.729  0.389 -0.252 0.113 0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - The column 'sig' shows the rejection rates.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - If the null hypothesis is false, the rate is the power.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Number of valid replications for rejection rate(s): 10 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Proportion of valid replications for rejection rate(s): 1.000 </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Shu Fai Cheung, Sing-Hang Cheung, Wendie Yang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

